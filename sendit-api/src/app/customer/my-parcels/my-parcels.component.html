<div class="min-h-screen bg-white p-6">
  <h1 class="text-2xl font-bold text-gray-800 mb-6">My Parcels</h1>

  <div class="flex flex-wrap gap-4 items-center mb-6">
    <input
      type="text"
      [(ngModel)]="searchText"
      (ngModelChange)="filterParcels()"
      placeholder="Search by description, address, or weight..."
      class="border border-gray-300 rounded px-3 py-2 text-sm w-64"
    />
    <select
      [(ngModel)]="searchStatus"
      (ngModelChange)="filterParcels()"
      class="border border-gray-300 rounded px-3 py-2 text-sm w-48"
    >
      <option value="">All Statuses</option>
      <option value="Pending">Pending</option>
      <option value="Published">Published</option>
      <option value="Cancelled">Cancelled</option>
      <option value="Completed">Completed</option>
    </select>
  </div>

  <div class="bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden">
    <div class="overflow-x-auto">
      <table class="w-full">
        <thead class="bg-gray-50 border-b border-gray-200">
          <tr>
            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">ID</th>
            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Description</th>
            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Delivery Address</th>
            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Date</th>
            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Status</th>
            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Actions</th>
          </tr>
        </thead>
        <tbody class="bg-white divide-y divide-gray-200">
          <ng-container *ngFor="let parcel of filteredParcels">
            <tr class="hover:bg-gray-50">
              <td class="px-6 py-4 text-sm text-blue-600 font-medium">{{ parcel.id }}</td>
              <td class="px-6 py-4 text-sm">{{ parcel.description }}</td>
              <td class="px-6 py-4 text-sm">{{ parcel.deliveryAddress }}</td>
              <td class="px-6 py-4 text-sm">{{ parcel.expectedReceiveDate }}</td>
              <td class="px-6 py-4 text-sm">{{ parcel.status || 'Pending' }}</td>
              <td class="px-6 py-4 text-sm">
                <button (click)="toggleDetails(parcel)"
                        class="text-blue-600 hover:text-blue-900 font-medium">
                  {{ selectedParcel?.id === parcel.id ? 'Hide Details' : 'View Details' }}
                </button>
              </td>
            </tr>

            <tr *ngIf="selectedParcel?.id === parcel.id">
              <td colspan="6" class="bg-gray-50 px-6 py-4 text-sm text-gray-700">
                <div class="parcel-details-section">
                  <div class="parcel-details-grid">
                    <div class="parcel-detail-box">
                      <div class="parcel-detail-label">Parcel ID:</div>
                      <div class="parcel-detail-value">{{ parcel.id }}</div>
                    </div>
                    <div class="parcel-detail-box">
                      <div class="parcel-detail-label">Sent On:</div>
                      <div class="parcel-detail-value">{{ parcel.expectedReceiveDate }}</div>
                    </div>
                    <div class="parcel-detail-box">
                      <div class="parcel-detail-label">Receiver:</div>
                      <div class="parcel-detail-value">{{ parcel.receiverName }}</div>
                    </div>
                    <div class="parcel-detail-box">
                      <div class="parcel-detail-label">Weight:</div>
                      <div class="parcel-detail-value">{{ parcel.weight }}</div>
                    </div>
                    <div class="parcel-detail-box">
                      <div class="parcel-detail-label">Destination:</div>
                      <div class="parcel-detail-value">{{ parcel.deliveryAddress }}</div>
                    </div>
                    <div class="parcel-detail-box">
                      <div class="parcel-detail-label">Pickup:</div>
                      <div class="parcel-detail-value">{{ parcel.pickupLocation }}</div>
                    </div>
                    <div class="parcel-detail-box">
                      <div class="parcel-detail-label">Status:</div>
                      <div class="parcel-detail-value">
                        <span class="parcel-status-badge">{{ parcel.status || 'Pending' }}</span>
                      </div>
                    </div>
                  </div>
                  <div class="parcel-details-track" (click)="goToTrackOrder(parcel)" style="cursor:pointer;">
                    <span class="parcel-details-track-icon">ðŸ“¦</span>
                    <span class="parcel-details-track-text">Track your parcel</span>
                  </div>
                </div>
              </td>
            </tr>
          </ng-container>
        </tbody>
      </table>
    </div>
  </div>
</div>
